console.log("content.js загружен");let n=!1;function s(){if(window.location.href.includes("/applicant/vacancy_response")){console.log("Обнаружена форма для дополнительных ответов. Выполняем действия..."),n=!0,window.history.back();const t=setInterval(()=>{const e=document.querySelector('button[data-qa="vacancy__blacklist-show-add"]');e&&(console.log("Нажимаем на кнопку 'Скрыть':",e),e.click(),console.log("Перезагружаем страницу..."),window.location.reload(),clearInterval(t),n=!1)},500)}}function a(){if(n){console.log("Обработка формы активна. Приостанавливаем выполнение clickLinks.");return}const t=Array.from(document.querySelectorAll("a"));console.log("Все ссылки на странице:",t);const e=t.filter(o=>o.textContent&&o.textContent.includes("Откликнуться")&&o.getAttribute("data-qa")==="vacancy-serp__vacancy_response");console.log("Найденные ссылки:",e),e.forEach((o,l)=>{const c=Math.random()*2e3+3e3;setTimeout(()=>{if(n){console.log("Обработка формы активна. Прерываем выполнение clickLinks.");return}console.log(`Нажимаем на ссылку через ${c} мс:`,o),o.click()},c*l)})}window.addEventListener("popstate",s);chrome.runtime.onMessage.addListener((t,e,o)=>{t.action==="START_SCRIPT"&&(console.log("Запуск скрипта из content.ts"),a(),o({status:"Script started"}))});
